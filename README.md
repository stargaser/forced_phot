# forced_phot
Forced photometry task using the LSST stack

Scripts to run forced photometry at user-specified positions. Based on 
[this Twinkles photometry code](https://github.com/wmwv/twinkles_subtractions) by Michael Wood-Vasey. See [this post](https://community.lsst.org/t/how-do-i-do-forced-photometry-on-a-set-of-ra-dec/1074) for discussion relating the the
development of the original code.

The code is designed to measure forced photometry on a set of images for Stripe 82
data in the Prototype Data Access center.

Example (when DAX is not available):

    get_forcedphot.py /datasets/gapon/data/DC_2013/calexps ./output id1340590_images.json \
     '1,25.612807,0.291621' u id1340590_photometry_u.tbl 

produces a table in IPAC format `id1340590_photometry.tbl` at the specified RA=25.612807,
Dec=0.291621, for all the images in id1340590_images.json. The json input file of images
overlapping this point is separately generated by a DAX query.

Example (when DAX is available):

     python run_forcephot.py 45.804433 0.905573 r fout.tbl

This script will do the DAX query, and will parallelize the forced
photometry to run faster.

